<!-- Modal -->
<div class="modal fade" id="incluirPublicacaoModal" tabindex="-1" (click)="fechouModal($event)">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">{{ tituloModal }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="atualizarIconMenu()" aria-label="Close"></button>
      </div>

      <div [ngSwitch]="estadoPublicacao">
        <div class="modal-body">
          <!-- Pendente -->
          <div *ngSwitchCase="'pendente'">
            <form [formGroup]="formulario" (ngSubmit)="publicar()">
              <input 
                #inputImagem
                type="file" 
                class="form-control" 
                accept="image/*" 
                (change)="preparaImagemUpload($event)"
              />
              <input 
                type="text" 
                placeholder="Título da publicação" 
                class="form-control mt-3"
                formControlName="titulo" 
              />
              
              <div class="modal-footer">
                <button type="submit" class="btn btn-primary" [disabled]="formulario.status === 'INVALID'">Publicar</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="atualizarIconMenu()">Fechar</button>
              </div>
            </form>
          </div>
        
          <!-- Andamento -->
          <div *ngSwitchCase="'andamento'">
            <div class="progress">
              <div 
                class="progress-bar" 
                role="progressbar" 
                aria-label="Barra de progresso" 
                [style.width]="progressoUpload + '%'" 
                [attr.aria-valuenow]="progressoUpload" 
                aria-valuemin="0" 
                aria-valuemax="100"
              >
                {{ progressoUpload }}%
              </div>
            </div>
          </div>
        
          <!-- Concluído -->
          <div *ngSwitchCase="'concluido'">
            <p>Publicação realizada com sucesso!</p>
            <p>Arquivo disponível <a [href]="downloadURL" target="_blank">aqui</a></p>
          </div>
        
          <!-- Erro -->
          <div *ngSwitchCase="'erro'">
            <p>Erro na publicação, tente novamente!</p>
            <p>{{ erro }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
